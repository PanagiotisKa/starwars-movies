{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pkakaletris\\\\Desktop\\\\programms\\\\LEARNING\\\\etravel\\\\starwars-movies\\\\src\\\\components\\\\main\\\\EpisodeList\\\\EpisodeList.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getEpisodeListData } from '../../../state/episodeListSlice';\nimport { Box, CircularProgress, Table, TableBody } from '@mui/material';\nimport Episode from './Episode';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction EpisodeList() {\n  _s();\n  const dispatch = useDispatch();\n  const {\n    value,\n    loading,\n    error\n  } = useSelector(state => state.episodeList);\n  const sort = useSelector(state => state.sort.value);\n  const search = useSelector(state => state.search.value);\n  useEffect(() => {\n    dispatch(getEpisodeListData([process.env.REACT_APP_API_ENDPOINT, process.env.REACT_APP_OMBAPI]));\n  }, [dispatch]);\n  if (loading) return /*#__PURE__*/_jsxDEV(Box, {\n    \"data-testid\": \"loading\",\n    sx: {\n      pt: 10,\n      minWidth: 300\n    },\n    display: \"flex\",\n    justifyContent: \"center\",\n    children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n      sx: {\n        color: \"#ffbf00\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 7\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      pt: 10\n    },\n    display: \"flex\",\n    justifyContent: \"center\",\n    children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [\"Error: \", error]\n    }, void 0, true), \";\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 7\n  }, this);\n  if (value) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        children: /*#__PURE__*/_jsxDEV(TableBody, {\n          children: [...value].sort((a, b) => {\n            if (sort === 'year') {\n              return parseInt(a.release_date.split(\"-\")[0]) - parseInt(b.release_date.split(\"-\")[0]);\n            }\n            if (sort === 'rating') {\n              return b.general_rating - a.general_rating;\n            }\n            return a.episode_id - b.episode_id;\n          }).filter(episode => episode.title.toLocaleLowerCase().includes(search.toLocaleLowerCase())).map(episode => {\n            return /*#__PURE__*/_jsxDEV(Episode, {\n              episode: episode\n            }, episode.episode_id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n}\n_s(EpisodeList, \"vhUzipneoOqFngQ7b9fxHMAm0ao=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n_c = EpisodeList;\nexport default EpisodeList;\nvar _c;\n$RefreshReg$(_c, \"EpisodeList\");","map":{"version":3,"names":["useEffect","useDispatch","useSelector","getEpisodeListData","Box","CircularProgress","Table","TableBody","Episode","jsxDEV","_jsxDEV","Fragment","_Fragment","EpisodeList","_s","dispatch","value","loading","error","state","episodeList","sort","search","process","env","REACT_APP_API_ENDPOINT","REACT_APP_OMBAPI","sx","pt","minWidth","display","justifyContent","children","color","fileName","_jsxFileName","lineNumber","columnNumber","a","b","parseInt","release_date","split","general_rating","episode_id","filter","episode","title","toLocaleLowerCase","includes","map","_c","$RefreshReg$"],"sources":["C:/Users/pkakaletris/Desktop/programms/LEARNING/etravel/starwars-movies/src/components/main/EpisodeList/EpisodeList.tsx"],"sourcesContent":["import {useEffect} from 'react'\r\nimport  { useDispatch, useSelector } from 'react-redux'\r\nimport { getEpisodeListData } from '../../../state/episodeListSlice'\r\nimport { RootState, AppDispatch } from '../../../state/store'\r\nimport {Box, CircularProgress, Table,TableBody } from '@mui/material'\r\nimport Episode from './Episode'\r\n\r\n\r\n\r\nfunction EpisodeList() {\r\n\r\n    const dispatch = useDispatch<AppDispatch>()\r\n    const { value, loading, error } = useSelector((state: RootState) => state.episodeList)\r\n    const sort = useSelector((state: RootState) => state.sort.value)\r\n    const search= useSelector((state: RootState) => state.search.value)\r\n\r\n    useEffect(()=>{\r\n      dispatch(getEpisodeListData([process.env.REACT_APP_API_ENDPOINT!, process.env.REACT_APP_OMBAPI!]))\r\n    }, [dispatch])\r\n\r\n\r\n    if (loading) return (\r\n      <Box data-testid=\"loading\" sx={{pt: 10, minWidth: 300}} display=\"flex\" justifyContent=\"center\">\r\n        <CircularProgress sx={{color:\"#ffbf00\"}} />\r\n     </Box>)\r\n\r\n    if (error) return (\r\n      <Box sx={{pt: 10}} display=\"flex\" justifyContent=\"center\">\r\n        <>Error: {error}</>;\r\n      </Box>)\r\n\r\n    if(value) {\r\n      return (\r\n        <>\r\n        <Table>\r\n          <TableBody>\r\n        {[...value]\r\n        .sort((a,b)=>{ \r\n          if( sort === 'year') { return parseInt(a.release_date.split(\"-\")[0]) - parseInt(b.release_date.split(\"-\")[0])}\r\n          if( sort === 'rating') { return b.general_rating - a.general_rating } \r\n          return a.episode_id - b.episode_id})\r\n        .filter(episode => episode.title.toLocaleLowerCase().includes(search.toLocaleLowerCase()))\r\n        .map(episode => {\r\n          return (<Episode key={episode.episode_id}  episode={episode}/>)\r\n        })}\r\n        </TableBody>\r\n        </Table>\r\n        </>\r\n      )\r\n    }\r\n    return <></>\r\n}\r\n\r\nexport default EpisodeList"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}